#include <Stepper.h>
#include<Servo.h>

Servo thirdaxis;
Servo claw;



// Define the stepper motor properties
#define STEPS_PER_REV 200
Stepper botaxis(STEPS_PER_REV, 8, 9);  // Stepper 1 on pin 8, direction on pin 9
Stepper stem(STEPS_PER_REV, 10, 11); // Stepper 2 on pin 10, direction on pin 11

void setup() {
  // Set up serial communication for both debugging and Bluetooth
  Serial.begin(9600);
  thirdaxis.attach(7);

  thirdaxis.write(0);

  claw.attach(6);



  // Set the maximum speed and acceleration for the stepper motors
  botaxis.setSpeed(100);
  stem.setSpeed(100);
}

void loop() {
  
  if (Serial.available() > 0) {
    char command = Serial.read(); 
    // Move stepper motors based on Bluetooth input

    if (command == 'Y') {
      Serial.println("YAW RIGHT");
      thirdaxis.write(180);
      botaxis.step(300);


    }
    if (command == 'P') {
      Serial.println("Pitch");
      stem.step(300);  // Adjust the steps as needed

      thirdaxis.write(90);


      delay(500);

      


    } else if (command == 'p') {
      Serial.println("-ve pitch");
      
      botaxis.step(-300);  // Adjust the steps as needed

    }
    
    else if (command == 'y') {
      Serial.println("yaw left");
      stem.step(-300);  // Adjust the steps as needed

    }else if (command == 'C'){ 
      Serial.println("coarse adjustment");
      botaxis.step(400);

    }
    else if (command == 'D'){
      Serial.println("coarse adjustment");  
      stem.step(-400);

    }
    else if (command == 'H'){
      Serial.println("HOMING...");

      thirdaxis.write(0);
      delay(1000);
      
      Serial.println("Turn OFF The robot");


    }
  }
}
